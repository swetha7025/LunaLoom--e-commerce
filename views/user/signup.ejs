<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup | LunaLoom</title>
    <link rel="stylesheet" href="/css/signup.css">
    
</head>

<body>
   

<div class="container">

    <div class="left-box">
        <h1>New to our Shop?</h1>
        <p>
            There are advances being made in science and technology everyday,
            and a good example of this is the...
        </p>
        <a href="/login"><button class="login-btn">LOG IN</button></a>
    </div>

    <div class="right-box">
        <h2>Create an Account</h2>

        <!-- Success Message -->
        <% if (success) { %>
            <div id="successAlert" class="alert success"><%= success %></div>
        <% } %>

        <!-- Error Message -->
        <% if (error) { %>
        <div id="errorAlert" class="alert error">
            <ul style="margin: 0; padding-left: 20px;">
                <% if (Array.isArray(error)) { %>
                    <% error.forEach(err => { %>
                        <li><%= err.msg %></li>
                    <% }) %>
                <% } else { %>
                    <li><%= error %></li>
                <% } %>
            </ul>
        </div>
        <% } %>

        <form action="/signup" method="POST">

            <input type="text" name="username" class="form-control" placeholder="Username" required>

            <input type="email" name="email" class="form-control" placeholder="Email" required>

            <input type="text" name="phone" class="form-control" placeholder="Phone No" required>

            <input type="password" name="password" class="form-control" placeholder="Password" required>

            <input type="password" name="confirmPassword" class="form-control" placeholder="Confirm Password" required>

            <button type="submit" class="signup-btn">SIGN UP</button>
        </form>

        <br>

        <a href="/auth/google" class="google-btn">
            <img src="/img/google-icon.png" alt="Google Icon"> Sign in with Google
        </a>
    </div>

</div>

<!-- Hide alerts when user types -->
<script>
    document.querySelectorAll("input").forEach(input => {
        input.addEventListener("input", () => {
            const errorBox = document.getElementById("errorAlert");
            if (errorBox) errorBox.style.display = "none";

            const successBox = document.getElementById("successAlert");
            if (successBox) successBox.style.display = "none";
        });
    });
</script>

</body>
</html>
